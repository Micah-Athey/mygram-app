<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  <title>mygram</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="mygram">
  <meta property="og:description" content="Photo portfolio">
  <meta property="og:image" content="">
  <meta property="og:url" content="">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="mygram">
  <meta name="twitter:description" content="Photo portfolio">
  <meta name="twitter:image" content="">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link href="css/style.css" rel="stylesheet">
</head>
<body>

  <!-- ===== NAV BAR ===== -->
  <nav class="navbar border-bottom sticky-top">
    <div class="container d-flex align-items-center">
      <a class="navbar-brand fw-bold mb-0 nav-view-link nav-username active" href="#" data-view="mygram">mygram</a>
      <a class="navbar-brand fw-bold mb-0 nav-view-link" href="#" data-view="palgram">palgram</a>
    </div>
  </nav>

  <!-- ===== PROFILE HEADER ===== -->
  <header id="profile-header" class="container py-4">
    <div class="row align-items-center">
      <!-- Profile Picture -->
      <div class="col-4 col-md-3 text-center">
        <img
          src="assets/profile.jpg"
          alt="Profile picture"
          class="rounded-circle profile-pic"
        >
      </div>
      <!-- Profile Info -->
      <div class="col-8 col-md-9">
        <div class="d-flex align-items-center mb-2 flex-wrap gap-2">
          <h1 class="h5 mb-0 me-3 username">username</h1>
        </div>
        <!-- Stats row -->
        <ul class="list-inline stats d-none d-md-flex mb-2">
          <li class="list-inline-item me-4"><strong id="post-count">0</strong> posts</li>
        </ul>
        <!-- Bio -->
        <div class="bio">
          <p class="fw-semibold mb-0 full-name">Your Name</p>
          <p class="mb-0 bio-text">Photographer · Traveller</p>
          <a href="#" class="bio-link text-decoration-none">yourwebsite.com</a>
        </div>
      </div>
    </div>

    <!-- Mobile-only stats bar -->
    <div class="d-none border-top mt-3 pt-2 mobile-stats-bar">
      <div class="row text-center">
        <div class="col-4">
          <strong id="post-count-mobile">0</strong><br>
          <span class="text-muted small">posts</span>
        </div>
        <div class="col-4"></div>
        <div class="col-4"></div>
      </div>
    </div>
  </header>

  <!-- ===== MOBILE PROFILE ZONE (solid bg behind expanded bubble) ===== -->
  <div class="profile-zone" id="profileZone"></div>

  <!-- ===== MOBILE PROFILE BUBBLE ===== -->
  <div class="profile-bubble" id="profileBubble">
    <!-- Collapsed state -->
    <div class="profile-bubble-collapsed">
      <img src="assets/profile.jpg" alt="" class="profile-bubble-pic">
      <i class="bi bi-people-fill profile-bubble-icon" style="display:none"></i>
      <span class="profile-bubble-name username">username</span>
    </div>
    <!-- Expanded state -->
    <div class="profile-bubble-expanded">
      <img src="assets/profile.jpg" alt="" class="profile-bubble-pic-lg rounded-circle">
      <div class="profile-bubble-info">
        <span class="profile-bubble-name-lg username">username</span>
        <span class="profile-bubble-fullname full-name">Your Name</span>
        <span class="profile-bubble-bio bio-text">Photographer · Traveller</span>
        <a href="#" class="profile-bubble-link bio-link">yourwebsite.com</a>
      </div>
    </div>
  </div>

  <!-- ===== VIEW TABS ===== -->
  <div class="container" id="viewTabsWrapper">
    <ul class="nav nav-tabs justify-content-center border-top view-tabs" id="viewTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="grid-tab" data-bs-toggle="tab" data-bs-target="#grid-view" type="button" role="tab" aria-selected="true">
          <i class="bi bi-grid-3x3"></i><span class="d-none d-md-inline ms-1">POSTS</span>
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="timeline-tab" data-bs-toggle="tab" data-bs-target="#timeline-view" type="button" role="tab" aria-selected="false">
          <i class="bi bi-clock-history"></i><span class="d-none d-md-inline ms-1">TIMELINE</span>
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="albums-tab" data-bs-toggle="tab" data-bs-target="#albums-view" type="button" role="tab" aria-selected="false">
          <i class="bi bi-collection"></i><span class="d-none d-md-inline ms-1">ALBUMS</span>
        </button>
      </li>
    </ul>
  </div>

  <!-- ===== CONTENT AREA ===== -->
  <main class="container pb-5" id="mygram-content">
    <div class="tab-content" id="viewTabContent">

      <!-- Grid View -->
      <div class="tab-pane fade show active" id="grid-view" role="tabpanel" aria-labelledby="grid-tab">
        <div class="row g-0 photo-grid" id="photoGrid">
          <!-- Dynamically populated by js/grid.js -->
        </div>
      </div>

      <!-- Timeline View -->
      <div class="tab-pane fade" id="timeline-view" role="tabpanel" aria-labelledby="timeline-tab">
        <div class="timeline" id="photoTimeline">
          <!-- Dynamically populated by js/timeline.js -->
        </div>
      </div>

      <!-- Albums View -->
      <div class="tab-pane fade" id="albums-view" role="tabpanel" aria-labelledby="albums-tab">
        <div class="albums-header d-none" id="albumsBackBtn">
          <button class="btn btn-sm btn-outline-secondary me-2"><i class="bi bi-arrow-left"></i></button>
          <strong id="albumDetailTitle"></strong>
        </div>
        <div class="row g-0 photo-grid" id="albumsGrid">
          <!-- Dynamically populated by js/albums.js -->
        </div>
      </div>

    </div>
  </main>

  <!-- ===== PALGRAM VIEW (separate from tab content) ===== -->
  <main class="container pb-5 d-none" id="palgram-view">
    <div class="timeline" id="palgramTimeline">
      <!-- Dynamically populated by js/palgram.js -->
    </div>
  </main>

  <!-- ===== MOBILE POST PAGE ===== -->
  <div class="post-page d-none" id="postPage">
    <div class="post-page-header">
      <button class="post-page-back" id="postPageBack" aria-label="Back">
        <i class="bi bi-arrow-left"></i>
      </button>
      <div class="d-flex align-items-center">
        <img src="assets/profile.jpg" alt="" class="rounded-circle me-2 post-page-avatar" width="24" height="24">
        <strong class="post-page-username">username</strong>
      </div>
    </div>
    <div class="post-page-photo-wrap">
      <img id="postPagePhoto" src="" alt="" class="post-page-photo">
    </div>
    <div class="post-page-actions">
      <button class="btn-timeline-share" id="postPageShare" aria-label="Share">
        <i class="bi bi-send"></i>
      </button>
    </div>
    <div class="post-page-body">
      <p class="mb-1" id="postPageCaptionWrap"><strong class="post-page-username-caption">username</strong> <span id="postPageCaption"></span></p>
      <p class="card-meta mb-0" id="postPageDate"></p>
      <div id="postPageMeta" class="mt-2 small text-muted"></div>
      <a id="postPageViewPal" class="btn btn-outline-primary btn-sm mt-3 w-100 d-none" href="#" target="_blank" rel="noopener">
        <i class="bi bi-box-arrow-up-right me-1"></i>View on pal's app
      </a>
    </div>
  </div>

  <!-- ===== LIGHTBOX MODAL ===== -->
  <div class="modal fade" id="lightboxModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content border-0" style="background:transparent">
        <div class="modal-body p-0 position-relative">
          <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3 z-3" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="row g-0 lightbox-layout">
            <!-- Photo side -->
            <div class="col-12 col-md-7 lightbox-photo-container d-flex align-items-center justify-content-center">
              <img id="lightboxPhoto" src="" alt="" class="img-fluid lightbox-photo">
            </div>
            <!-- Info side -->
            <div class="col-12 col-md-5 lightbox-info p-3">
              <div class="d-flex align-items-center mb-3">
                <img src="assets/profile.jpg" alt="" class="rounded-circle me-2" width="32" height="32">
                <strong class="username-sm">username</strong>
              </div>
              <hr>
              <p id="lightboxCaption" class="mb-1"></p>
              <small id="lightboxDate" class="text-muted"></small>
              <div id="lightboxMeta" class="mt-3 small text-muted"></div>
              <button id="lightboxShare" class="btn btn-outline-secondary btn-sm mt-3 w-100">
                <i class="bi bi-send me-1"></i>Copy Link
              </button>
              <a id="lightboxViewPal" class="btn btn-outline-primary btn-sm mt-2 w-100 d-none" href="#" target="_blank" rel="noopener">
                <i class="bi bi-box-arrow-up-right me-1"></i>View on pal's app
              </a>
            </div>
          </div>
          <!-- Nav arrows -->
          <button class="lightbox-nav lightbox-prev" id="lightboxPrev" aria-label="Previous"><i class="bi bi-chevron-left"></i></button>
          <button class="lightbox-nav lightbox-next" id="lightboxNext" aria-label="Next"><i class="bi bi-chevron-right"></i></button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== MOBILE BUBBLE NAV ===== -->
  <div class="bubble-nav" id="bubbleNav" aria-label="Navigation">
    <button class="bubble-btn bubble-btn-gallery active" id="bubbleGallery" aria-label="Gallery">
      <i class="bi bi-image"></i>
    </button>
    <button class="bubble-btn bubble-btn-palgram" id="bubblePalgram" aria-label="Palgram">
      <i class="bi bi-people-fill"></i>
    </button>
  </div>

  <!-- ===== MOBILE VIEW BUBBLE NAV ===== -->
  <div class="bubble-nav bubble-nav-right" id="bubbleViewNav" aria-label="View switcher">
    <button class="bubble-btn bubble-btn-view active" data-view-tab="grid-tab" aria-label="Grid">
      <i class="bi bi-grid-3x3"></i>
    </button>
    <button class="bubble-btn bubble-btn-view" data-view-tab="timeline-tab" aria-label="Timeline">
      <i class="bi bi-clock-history"></i>
    </button>
    <button class="bubble-btn bubble-btn-view" data-view-tab="albums-tab" aria-label="Albums">
      <i class="bi bi-collection"></i>
    </button>
  </div>

  <!-- ===== TOAST ===== -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
    <div id="shareToast" class="toast align-items-center text-bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" id="shareToastBody">Link copied to clipboard</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer">
    Powered by <a href="https://github.com/kevdoy/mygram-app" target="_blank" rel="noopener"><strong>mygram</strong></a> v0.9.5
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/lazyload.js"></script>
  <script src="js/carousel.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/timeline.js"></script>
  <script src="js/lightbox.js"></script>
  <script src="js/albums.js"></script>
  <script src="js/palgram.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
